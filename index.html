<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>THE LAST ECLIPSE</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      background: url('https://i.imgur.com/FjeLbo3.jpg') no-repeat center center fixed;
      background-size: cover;
      font-family: 'Orbitron', sans-serif;
    }
    .countdown {
      color: #fff;
      text-shadow: 0 0 20px #ff4500;
      font-size: 3em;
      text-align: center;
    }
    .title {
      color: #fff;
      text-shadow: 0 0 20px #ff4500;
      font-size: 2em;
      text-align: center;
      margin-bottom: 20px;
    }
    .label {
      font-size: 0.3em;
      text-transform: uppercase;
      letter-spacing: 5px;
      margin-top: 10px;
    }
    
      .text1 {
      color: #fff;
      text-shadow: 0 0 20px #ff4500;
      font-size: 1.0em;
      text-align: center;
      margin-top: 10px;
      margin-bottom: 10px;
      margin-left: 20px;
      margin-right: 20px;
    }
    
  </style>
</head>
<body>
  <div class="title" id="title">
    <h1>THE LAST ECLIPSE</h1>
  </div>

  <div class="countdown" id="countdown">
    <div id="time"></div>
    <div class="label">Hasta el Sol se convierta en una Gigante Roja</div>
  </div>
  
  <div class="text1">
<p>  
Mi hijo me hizo la solicitud más especial del mundo: que le regalara un contador que marcara el tiempo hasta el día en que el Sol se convierta en una gigante roja. No era simplemente un proyecto, sino un sueño que quería compartir conmigo. Así que, juntos, nos sentamos frente al ordenador y comenzamos a escribir líneas de código. Mi pequeño explorador del universo y yo, tratando de convertir lo infinito en algo que pudiéramos entender. Su sonrisa es la fuerza más grande que conozco, incluso más que el Sol.</p>

<p>
Este contador tiene algo de trampa. No es exacto, ni podría serlo. Los números que llenan la pantalla son una representación de nuestro sueño compartido, una forma de abrazar lo desconocido y darle forma a lo que nunca veremos. Porque aunque ni él ni yo estaremos aquí cuando ese día llegue, quiero pensar que en algún rincón de nuestros efímeros multiversos, ese contador llegará a cero. Y quizás, en ese lugar, lo estaremos viendo juntos, tomados de la mano, con esa complicidad que solo se tiene con alguien a quien amas más que a nada.</p>

<p>
Mi hijo es la persona más especial del mundo (creedme cuando lo digo, y no es porque sea su padre, os puedo asegurar que es muy especial), y hacer este pequeño proyecto con él me ha demostrado una vez más que no se trata del destino, sino del viaje. Aunque haya desafíos que otros no puedan ver, su valentía y su manera de enfrentar el mundo me inspiran cada día. Este código, sencillo, hecho con HTML, CSS y JavaScript, lleno de pequeños errores, quedará en algún lugar, copiado y replicado en copias de seguridad en algún rincón; y así, este pedacito de amor quedará para siempre, como el testimonio de un sueño compartido entre un padre y su hijo, un sueño que va más allá de los años, más allá del tiempo, más allá del fin del Sol.
</p>

<p>
Este es mi regalo intangible, a él y a su preciosa e increíble mamá, cuyo amor y dedicación son igualmente mi razón por la que cada pequeño momento brilla con tanta fuerza.
</p>
  </div>

  <script>
    function countdownToGiantRed() {
      const targetDate = {
        year: 5000002016n,  // Utilizamos 'n' para indicar que es un BigInt
        month: 7n,          // Julio
        day: 7n
      };

      const countdownElement = document.getElementById('time');

      function updateCountdown() {
        const now = new Date();
        const currentYear = BigInt(now.getFullYear());
        const currentMonth = BigInt(now.getMonth() + 1); // Los meses en JavaScript son base 0
        const currentDay = BigInt(now.getDate());
        const currentHour = BigInt(now.getHours());
        const currentMinute = BigInt(now.getMinutes());
        const currentSecond = BigInt(now.getSeconds());

        // Cálculo de diferencias
        let deltaYears = targetDate.year - currentYear;
        let deltaMonths = targetDate.month - currentMonth;
        let deltaDays = targetDate.day - currentDay;
        let deltaHours = -currentHour;
        let deltaMinutes = -currentMinute;
        let deltaSeconds = -currentSecond;

        // Ajuste de valores negativos
        if (deltaSeconds < 0n) {
          deltaSeconds += 60n;
          deltaMinutes--;
        }
        if (deltaMinutes < 0n) {
          deltaMinutes += 60n;
          deltaHours--;
        }
        if (deltaHours < 0n) {
          deltaHours += 24n;
          deltaDays--;
        }
        if (deltaDays < 0n) {
          deltaDays += 30n; // Aproximación de 30 días por mes
          deltaMonths--;
        }
        if (deltaMonths < 0n) {
          deltaMonths += 12n;
          deltaYears--;
        }

        // Verificar si la cuenta regresiva ha terminado
        if (deltaYears < 0n) {
          countdownElement.innerHTML = "¡Es el fin! El sol se ha convertido en una gigante roja.";
          return;
        }

        // Formateo de salida con ceros iniciales
        const formattedHours = deltaHours.toString().padStart(2, '0');
        const formattedMinutes = deltaMinutes.toString().padStart(2, '0');
        const formattedSeconds = deltaSeconds.toString().padStart(2, '0');

        // Mostrar la cuenta regresiva
        countdownElement.innerHTML = `${deltaYears}y ${deltaMonths}m ${deltaDays}d ${formattedHours}h ${formattedMinutes}m ${formattedSeconds}s`;
      }

      // Actualizar la cuenta regresiva inicialmente y luego cada segundo
      updateCountdown();
      setInterval(updateCountdown, 1000);
    }

    countdownToGiantRed();
  </script>
    
</body>
</html>
